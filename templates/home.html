{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container">
	{% include 'includes/navbar.html' %}
</div>
<section class="section">
	<div class="container">
	<h2 class="title">Tambah Link</h2>
	{% if user.is_authenticated %}
	<form method="post" action="{% url 'post:tambah' %}">
		{% csrf_token %}
		<div class="field">
			<p class="control has-icons-left has-icons-right">
				<input class="input" type="text" name="title" placeholder="Judul (Deskripsi singkat)">
				<span class="icon is-small is-left">
					<i class="fas fa-info"></i>
				</span>
			</p>
		</div>
		<div class="field">
			<p class="control has-icons-left">
				<input class="input" type="text" placeholder="Link" name="url">
				<span class="icon is-small is-left">
					<i class="fas fa-external-link-alt"></i>
				</span>
			</p>
		</div>
		<input class="button is-primary" type="submit" value="Tambah Link" />
	</form>
	<br>
	{% endif %}


	{% for link in links %}
	<a href="{{ link.content }}">{{ link }}</a>
	<br>	
		{% if user.is_authenticated %}
			<a href="{% url 'post:vote' link.id %}?next={{ request.path }}">{{ link.score }}</a>
		{% else %}
			{{ link.score }}
		{% endif %}
		{% if link.site %}
			<em>on</em> <a href="{% url 'post:site' link.site %}">{{ link.site }}</a>
		{% endif %}
		{% if link.author %}
			<em>by</em> <a href="#?next={{ request.path }}">{{ link.author }}</a>
		{% endif %}
		<br>
	{% endfor %}
	</div>
</section>

{% if links.paginator.num_pages > 1 %}
<section class="section">
<div class="container">
	{% include 'includes/links-pagination.html' %}
</div>
</section>
{% endif %}
{% endblock %}
